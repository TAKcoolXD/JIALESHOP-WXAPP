{"version":3,"sources":["uni-app:///src/main.js","webpack:///./src/pages/business/profile.vue?134a","webpack:///./src/pages/business/profile.vue?f993","webpack:///./src/pages/business/profile.vue?ef12","webpack:///./src/pages/business/profile.vue?254f","uni-app:///src/pages/business/profile.vue","webpack:///./src/pages/business/profile.vue?e404","webpack:///./src/pages/business/profile.vue?2bb4"],"names":["require","_vue","_interopRequireDefault","_profile","wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","_default","exports","default","components","pickRegions","onReady","$refs","profile","setRules","rules","onShow","business","uni","getStorageSync","Object","getOwnPropertyNames","length","avatar","url","avatar_text","data","region","ShowGender","GenderList","name","value","nickname","mobile","type","required","message","trigger","validator","rule","callback","$u","test","email","computed","regionName","map","item","join","methods","GenderSelect","e","gender","gender_text","handleGetRegion","region_text","region_code","Del","Read","event","file","thumb","submit","_this","validate","then","_ref","_asyncToGenerator2","_regenerator","mark","_callee","res","result","wrap","_callee$","_context","prev","next","formData","id","hasOwnProperty","password","filePath","http","upload","sent","post","code","notice","show","msg","abrupt","complete","setStorageSync","route","delta","stop","_x","apply","arguments","catch","error","console","log"],"mappings":"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","file":"pages/business/profile.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/business/profile.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./profile.vue?vue&type=template&id=8871f45a&\"\nvar renderjs\nimport script from \"./profile.vue?vue&type=script&lang=js&\"\nexport * from \"./profile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./profile.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/business/profile.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./profile.vue?vue&type=template&id=8871f45a&\"","var components\ntry {\n  components = {\n    \"u-Form\": function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u--form/u--form\" */ \"uview-ui/components/u--form/u--form.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-form-item/u-form-item\" */ \"uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    \"u-Input\": function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u--input/u--input\" */ \"uview-ui/components/u--input/u--input.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uActionSheet: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-action-sheet/u-action-sheet\" */ \"uview-ui/components/u-action-sheet/u-action-sheet.vue\"\n      )\n    },\n    pickRegions: function () {\n      return import(\n        /* webpackChunkName: \"components/pick-regions/pick-regions\" */ \"@/components/pick-regions/pick-regions.vue\"\n      )\n    },\n    uUpload: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-upload/u-upload\" */ \"uview-ui/components/u-upload/u-upload.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-button/u-button\" */ \"uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uToast: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-toast/u-toast\" */ \"uview-ui/components/u-toast/u-toast.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.business.hasOwnProperty(\"avatar\") && _vm.business.avatar\n  var g1 = _vm.business.hasOwnProperty(\"id\")\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.ShowGender = true\n    }\n    _vm.e1 = function ($event) {\n      _vm.ShowGender = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./profile.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<!-- 用户信息 -->\r\n\t\t<view class=\"user\">\r\n\t\t\t<view class=\"avatar\">\r\n\t\t\t  <!-- #ifdef H5 || APP-PLUS -->\r\n\t\t\t  <image v-if=\"!business.hasOwnProperty('id')\" src=\"/static/logo.png\"></image>\r\n\t\t\t  <image v-else :src=\"business.avatar_text\">\r\n\t\t\t  <!-- #endif -->\r\n  \r\n\t\t\t  <!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t  <image v-if=\"business.hasOwnProperty('avatar') && business.avatar\" :src=\"business.avatar_text\">\r\n\t\t\t\t  <open-data v-else type=\"userAvatarUrl\"></open-data>\r\n\t\t\t  <!-- #endif -->\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"nickname\">{{business.nickname}}</view>\r\n\t\t\r\n\t\t\t<!-- #ifdef H5 || APP-PLUS -->\r\n\t\t\t\t<button v-if=\"!business.hasOwnProperty('id')\" class=\"login\" @click=\"signin\">登录</button>\r\n\t\t\t<!-- #endif -->\r\n  \r\n\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t<button v-if=\"!business.hasOwnProperty('id')\" class=\"login\" @click=\"login\">授权登录</button>\r\n\t\t\t<!-- #endif -->\r\n\t\t</view>\r\n\t  \r\n\t\t<!-- 表单 -->\r\n\t\t<view class=\"profile\">\r\n\t\t\t<u--form\r\n\t\t\t\tlabelPosition=\"left\"\r\n\t\t\t\tlabelWidth=\"70\"\r\n\t\t\t\t:model=\"business\"\r\n\t\t\t\t:rules=\"rules\"\r\n\t\t\t\tref=\"profile\"\r\n\t\t\t>\r\n\t\t\t\t<!-- 手机号 -->\r\n\t\t\t\t<u-form-item\r\n\t\t\t\t\tlabel=\"手机号\"\r\n\t\t\t\t\tprop=\"mobile\"\r\n\t\t\t\t\tborderBottom\r\n\t\t\t\t\tref=\"mobile\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<u--input v-model=\"business.mobile\" border=\"none\" placeholder=\"请输入手机号码\"></u--input>\r\n\t\t\t\t</u-form-item>\r\n\r\n\t\t\t\t<!-- 昵称 -->\r\n\t\t\t\t<u-form-item\r\n\t\t\t\t\tlabel=\"昵称\"\r\n\t\t\t\t\tprop=\"nickname\"\r\n\t\t\t\t\tborderBottom\r\n\t\t\t\t\tref=\"nickname\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<u--input v-model=\"business.nickname\" border=\"none\" placeholder=\"请输入昵称\"></u--input>\r\n\t\t\t\t</u-form-item>\r\n\r\n\t\t\t\t<!-- 邮箱 -->\r\n\t\t\t\t<u-form-item\r\n\t\t\t\t\tlabel=\"邮箱\"\r\n\t\t\t\t\tprop=\"email\"\r\n\t\t\t\t\tborderBottom\r\n\t\t\t\t\tref=\"email\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<u--input v-model=\"business.email\" border=\"none\" placeholder=\"请输入邮箱\"></u--input>\r\n\t\t\t\t</u-form-item>\r\n\r\n\t\t\t\t<!-- 密码 -->\r\n\t\t\t\t<u-form-item\r\n\t\t\t\t\tlabel=\"密码\"\r\n\t\t\t\t\tprop=\"password\"\r\n\t\t\t\t\tborderBottom\r\n\t\t\t\t\tref=\"password\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<u--input type=\"password\" v-model=\"business.password\" border=\"none\" placeholder=\"请输入密码\"></u--input>\r\n\t\t\t\t</u-form-item>\r\n\r\n\t\t\t\t<!-- 性别 -->\r\n\t\t\t\t<u-form-item\r\n\t\t\t\t\tlabel=\"性别\"\r\n\t\t\t\t\tprop=\"gender_text\"\r\n\t\t\t\t\tborderBottom\r\n\t\t\t\t\tref=\"gender_text\"\r\n\t\t\t\t\t@click=\"ShowGender = true\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<u--input v-model=\"business.gender_text\" readonly border=\"none\" placeholder=\"请选择性别\"></u--input>\r\n\t\t\t\t\t<u-icon slot=\"right\" name=\"arrow-right\"></u-icon>\r\n\t\t\t\t</u-form-item>\r\n\r\n\t\t\t\t<!-- 性别弹出菜单 -->\r\n\t\t\t\t<u-action-sheet\r\n\t\t\t\t\t:show=\"ShowGender\"\r\n\t\t\t\t\t:actions=\"GenderList\"\r\n\t\t\t\t\ttitle=\"请选择性别\"\r\n\t\t\t\t\t@close=\"ShowGender = false\"\r\n\t\t\t\t\t@select=\"GenderSelect\"\r\n\t\t\t\t>\r\n\t\t\t\t</u-action-sheet>\r\n\r\n\t\t\t\t<!-- 地区 -->\r\n\t\t\t\t<pick-regions :defaultRegion=\"business.region_code\" @getRegion=\"handleGetRegion\">\r\n\t\t\t\t\t<u-form-item\r\n\t\t\t\t\t\tlabel=\"地区\"\r\n\t\t\t\t\t\tprop=\"region_text\"\r\n\t\t\t\t\t\tborderBottom\r\n\t\t\t\t\t\tref=\"region_text\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<u--input v-model=\"business.region_text\" readonly border=\"none\" placeholder=\"请选择地区\"></u--input>\r\n\t\t\t\t\t\t<u-icon slot=\"right\" name=\"arrow-right\"></u-icon>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t</pick-regions>\r\n\r\n\t\t\t\t<!-- 头像 -->\r\n\t\t\t\t<u-form-item label=\"头像\" borderBottom>\r\n\t\t\t\t\t<u-upload :fileList=\"avatar\" name=\"avatar\" :maxCount=\"1\" :previewFullImage=\"true\" @afterRead=\"Read\" @delete=\"Del\"></u-upload>\r\n\t\t\t\t</u-form-item>\r\n\r\n\t\t\t\t<u-button type=\"primary\" text=\"确认修改\" formType=\"submit\" @click=\"submit\"></u-button>\r\n\t\t\t</u--form>\r\n\t\t</view>\r\n\r\n\t\t<!-- 提醒组件 -->\r\n\t\t<u-toast ref=\"notice\"></u-toast>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t//需要引入城市地区组件\r\n\timport pickRegions from '@/components/pick-regions/pick-regions.vue'\r\n\r\n\texport default {\r\n\t\tcomponents:{ pickRegions },\r\n\t\tonReady() \r\n\t\t{\r\n\t\t\t//onReady 为uni-app支持的生命周期之一\r\n\t\t\t//设置表单验证规则\r\n\t\t\tthis.$refs.profile.setRules(this.rules)\r\n\t\t},\r\n\t\tonShow()\r\n\t\t{\r\n\t\t\t//获取本地存储\r\n\t\t\tvar business = uni.getStorageSync('business') ? uni.getStorageSync('business') : {}\r\n\r\n\t\t\t//覆盖data数据\r\n\t\t\tif(Object.getOwnPropertyNames(business).length > 0)\r\n\t\t\t{\r\n\t\t\t\tthis.business = business\r\n\r\n\t\t\t\t//覆盖头像预览\r\n\t\t\t\tthis.avatar = [{\r\n\t\t\t\t\turl: this.business.avatar_text\r\n\t\t\t\t}]\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\tregion:[],\r\n\t\t\t\tShowGender: false,\r\n\t\t\t\tGenderList: [\r\n\t\t\t\t\t{name: '保密', value: '0'},\r\n\t\t\t\t\t{name: '男', value: '1'},\r\n\t\t\t\t\t{name: '女', value: '2'},\r\n\t\t\t\t],\r\n\t\t\t\tbusiness: {\r\n\t\t\t\t\tnickname: '临时用户',\r\n\t\t\t\t},\r\n\t\t\t\tavatar: [],\r\n\t\t\t\trules:{\r\n\t\t\t\t\tmobile: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: '请填写手机号码',\r\n\t\t\t\t\t\t\ttrigger: ['blur', 'change']\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// 自定义验证函数\r\n\t\t\t\t\t\t\tvalidator: (rule, value, callback) => {\r\n\t\t\t\t\t\t\t\t// 上面有说，返回true表示校验通过，返回false表示不通过\r\n\t\t\t\t\t\t\t\t// uni.$u.test.mobile()就是返回true或者false的\r\n\t\t\t\t\t\t\t\treturn uni.$u.test.mobile(value);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmessage: '手机号码不正确',\r\n\t\t\t\t\t\t\t// 触发器可以同时用blur和change\r\n\t\t\t\t\t\t\ttrigger: ['change','blur'],\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tnickname: {\r\n\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请填写昵称',\r\n\t\t\t\t\t\ttrigger: ['blur', 'change']\r\n\t\t\t\t\t},\r\n\t\t\t\t\temail: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: '请填写邮箱',\r\n\t\t\t\t\t\t\ttrigger: ['blur', 'change']\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// 自定义验证函数\r\n\t\t\t\t\t\t\tvalidator: (rule, value, callback) => {\r\n\t\t\t\t\t\t\t\t// 上面有说，返回true表示校验通过，返回false表示不通过\r\n\t\t\t\t\t\t\t\t// uni.$u.test.mobile()就是返回true或者false的\r\n\t\t\t\t\t\t\t\treturn uni.$u.test.email(value);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmessage: '邮箱不正确',\r\n\t\t\t\t\t\t\t// 触发器可以同时用blur和change\r\n\t\t\t\t\t\t\ttrigger: ['change','blur'],\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed:{\r\n            regionName(){\r\n                // 转为字符串\r\n                return this.region.map(item=>item.name).join(' ')\r\n            }\r\n        },\r\n\t\tmethods:{\r\n\t\t\tGenderSelect(e)\r\n\t\t\t{\r\n\t\t\t\tthis.business.gender = e.value\r\n\t\t\t\tthis.business.gender_text = e.name\r\n\t\t\t},\r\n\t\t\t// 获取选择的地区\r\n            handleGetRegion(region)\r\n\t\t\t{\r\n\t\t\t\tthis.business.region_text = region.map(item=>item.name).join('/')\r\n\t\t\t\tthis.business.region_code = region[2]['code']\r\n            },\r\n\t\t\t//删除图片\r\n\t\t\tDel()\r\n\t\t\t{\r\n\t\t\t\tthis.avatar = []\r\n\t\t\t},\r\n\t\t\t// 读取图片\r\n\t\t\tRead(event)\r\n\t\t\t{\r\n\t\t\t\tthis.avatar = [{\r\n\t\t\t\t\turl: event.file.thumb\r\n\t\t\t\t}]\r\n\t\t\t},\r\n\t\t\t// 提交表单\r\n\t\t\tsubmit()\r\n\t\t\t{\r\n\t\t\t\t//判断是否有通过表单验证\r\n\t\t\t\tthis.$refs.profile.validate()\r\n\t\t\t\t.then(async res => {\r\n\t\t\t\t\tvar data = {}\r\n\t\t\t\t\tvar result = {}\r\n\t\t\t\t\t//判断是否有图片上传\r\n\t\t\t\t\tif(this.avatar.length > 0 && this.avatar[0].url != this.business.avatar_text){\r\n\t\t\t\t\t\t//组装数据发起请求\r\n\t\t\t\t\t\tdata = {\r\n\t\t\t\t\t\t\tname: 'avatar',\r\n\t\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\t\tid: this.business.id,\r\n\t\t\t\t\t\t\t\tmobile: this.business.mobile,\r\n\t\t\t\t\t\t\t\tnickname: this.business.nickname,\r\n\t\t\t\t\t\t\t\temail: this.business.email,\r\n\t\t\t\t\t\t\t\tgender: this.business.gender,\r\n\t\t\t\t\t\t\t\tregion: this.business.region_code,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//如果有输入新密码在提交\r\n\t\t\t\t\t\tif(this.business.hasOwnProperty('password'))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdata.formData.password = this.business.password\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tdata.filePath = this.avatar[0].url\r\n\r\n\t\t\t\t\t\t//发起请求\r\n\t\t\t\t\t\tresult = await uni.$u.http.upload('/business/profile', data)\r\n\t\t\t\t\t}else\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata = {\r\n\t\t\t\t\t\t\tid: this.business.id,\r\n\t\t\t\t\t\t\tmobile: this.business.mobile,\r\n\t\t\t\t\t\t\tnickname: this.business.nickname,\r\n\t\t\t\t\t\t\temail: this.business.email,\r\n\t\t\t\t\t\t\tgender: this.business.gender,\r\n\t\t\t\t\t\t\tregion: this.business.region_code,\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//如果有输入新密码在提交\r\n\t\t\t\t\t\tif(this.business.hasOwnProperty('password'))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdata.password = this.business.password\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//发起请求\r\n\t\t\t\t\t\tresult = await uni.$u.http.post('/business/profile', data)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(result.code == 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.$refs.notice.show({\r\n\t\t\t\t\t\t\ttype:\"error\",\r\n\t\t\t\t\t\t\tmessage:result.msg\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn false\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//成功\r\n\t\t\t\t\tthis.$refs.notice.show({\r\n\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\tmessage: result.msg,\r\n\t\t\t\t\t\tcomplete()\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t//存储用户信息(同步)\r\n\t\t\t\t\t\t\tuni.setStorageSync('business', result.data)\r\n\r\n\r\n\t\t\t\t\t\t\t//授权成功，但是没找到人\r\n\t\t\t\t\t\t\tuni.$u.route({\r\n\t\t\t\t\t\t\t\ttype: 'navigateBack',\r\n\t\t\t\t\t\t\t\tdelta: 1, //后退一页\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\tthis.$refs.notice.show({\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tmessage: '效验失败'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t/* 用户信息 */\r\n\t.user {\r\n\t\twidth: 100%;\r\n\t\tpadding:40rpx 0rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tbackground: linear-gradient(rgb(1,115,222), rgb(78,169,245));\r\n\t\tcolor:white;\r\n\t}\r\n\r\n\t.avatar {\r\n\t\twidth: 200rpx;\r\n\t\theight: 200rpx;\r\n\t\tborder-radius: 50%;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.avatar image{\r\n\t\twidth:100%;\r\n\t\theight:100%;\r\n\t}\r\n\r\n\t/* 表单 */\r\n\t.items{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\theight: auto;\r\n\t\twidth: 650rpx;\r\n\t\tpadding: 20rpx 50rpx;\r\n\t\tborder-bottom: 20rpx solid rgb(234,234,234);\r\n\t\tfont-size: 30rpx;\r\n\t\tbox-shadow: 0 0 10px #DDD;\r\n\t}\r\n\r\n\t.items text{\r\n\t\tdisplay: block;\r\n\t\twidth: 135rpx;\r\n\t\ttext-align: right;\r\n\t}\r\n\r\n\tradio{\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\r\n\t.but{\r\n\t\tmargin-top: 50rpx;\r\n\t}\r\n\r\n\tbutton{\r\n\t\twidth:400rpx;\r\n\t\tbackground-color: #0173DE;\r\n\t\tcolor:white;\r\n\t\topacity: 0.7;\r\n\t\tbox-shadow: 0 0 10px #DDD;\r\n\t\tfont-size:34rpx;\r\n\t}\r\n</style>","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--7-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./profile.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--7-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./profile.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1722861333424\n      var cssReload = require(\"D:/Project/uniapp/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}